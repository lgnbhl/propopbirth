test_that("snapshot test for trend_lm()", {
  # Prepare input ----
  input_data <- tibble::tibble(
    spatial_unit = rep("Aarau", 26L),
    nat = rep(c("ch", "int"), each = 13L),
    year = rep(seq(2011, 2023, by = 1), 2),
    y = c(
      1.3317180993542383, 1.2905418882383055, 1.3109546955687157, 1.111916627253612,
      1.30666869372653, 1.5624560873216693, 1.1577805428762786, 1.1259319259132576,
      1.2422815308477662, 1.1988829661921492, 1.2442585827987873,
      1.1661266463168989, 1.0121007626628005, 1.9372076690835396, 1.755635500403377,
      1.5330832216352193, 2.600794521482836, 1.8576157827302706, 1.894356294917059,
      2.3848535073420325, 1.990104826882635, 1.6125283802807857, 1.9003827175532302,
      1.9986812756844305, 1.8652936716833775, 1.8814830581283348
    ),
  )

  expect_snapshot(constructive::construct(
    trend_lm(
      input_lm = input_data,
      year_start = 2024,
      year_end = 2055,
      trend_past = 7,
      trend_prop = 0.5
    )
  ))
})
